<template name="dashboard">
    <div class="row">
        <div class="col-sm-12">
            {{#if isInRole 'buyer, corporate-manager'}}
                <div class="row tile_count">
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <a href="{{pathFor 'myJobs'}}">
                            <span class="count_top"><i class="fa fa-user"></i> Jobs Posted</span>
                            <div class="count">{{buyerJobsCount}}</div>
                        </a>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <a href="{{pathFor 'buyerPaidJobs'}}">
                            <span class="count_top"><i class="fa fa-clock-o"></i> Jobs Completed</span>
                            <div class="count">{{buyerCompletedJobsCount}}</div>
                        </a>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-user"></i> Amount Spent</span>
                        <div class="count green">$ {{amountSpent}}</div>
                    </div>
                    <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                        <span class="count_top"><i class="fa fa-user"></i> Account Balance</span>
                        <div class="count">$ {{accountBalance}}</div>
                    </div>
                    <div class="col-md-3 col-sm-4 col-xs-6 tile_stats_count">
                        {{#with myProfile}}
                            <a href="{{pathFor 'buyer'}}">
                                <span class="count_top"><i class="fa fa-user"></i> Reviews ({{buyerReviewCount}})</span>
                                <div class="count">
                                    <!-- {{>starsRating rating=buyerRatingPoints size="lg"}} -->
                                    <span class="rateit bigstars" data-rateit-starwidth="32" data-rateit-starheight="32" data-rateit-value="{{buyerRatingPoints}}"></span>
                                </div>
                            </a>
                        {{/with}}
                    </div>
                </div>
                <hr>
                <!-- <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                        <a href="{{pathFor 'profiles'}}">Providers: </a><br>
                        <a href="{{pathFor 'buyerAssignedJobs'}}">Jobs in progress: {{buyerAssignedJobsCount}}</a>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                        {{#with buyerDetails}}<a href="{{pathFor 'buyerNotifications'}}">New Notifications: {{newNotificationsCount}}</a>{{/with}}<br>
                        <a href="{{pathFor 'mailBox' tab="mails"}}">New Messages: {{newMessagesCount}}</a>
                    </div>
                </div>
                <hr> -->
                <div class="row">
                    <div class="col-xs-12">
                        <h4>Scheduled Dates of Assigned Jobs</h4>
                        {{>buyerCalendar}}
                    </div>
                </div>
            {{else}}
                {{#if isInRole 'provider, corporate-provider'}}
                    <div class="row tile_count">
                        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                            <a href="{{pathFor 'appliedJobs'}}">
                                <span class="count_top"><i class="fa fa-user"></i> Jobs Applied</span>
                                <div class="count">{{providerJobsCount}}</div>
                            </a>
                        </div>
                        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                            <a href="{{pathFor 'providerCompletedJobs'}}">
                                <span class="count_top"><i class="fa fa-user"></i> Jobs Completed</span>
                                <div class="count">{{providerCompletedJobsCount}}</div>
                            </a>
                        </div>
                        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                            <span class="count_top"><i class="fa fa-clock-o"></i> Amount Earned</span>
                            <div class="count">$ {{amountEarned}}</div>
                        </div>
                        <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                            <span class="count_top"><i class="fa fa-user"></i> Account Balance</span>
                            <div class="count">$ {{accountBalance}}</div>
                        </div>
                        <div class="col-md-3 col-sm-4 col-xs-6 tile_stats_count">
                            {{#with myProfile}}
                                <a href="{{pathFor 'profile'}}">
                                    <span class="count_top"><i class="fa fa-user"></i> Reviews ({{providerReviewCount}})</span>
                                    <div class="count">
                                        <!-- {{>starsRating rating=providerRatingPoints size="lg"}} -->
                                        <span class="rateit bigstars" data-rateit-starwidth="32" data-rateit-starheight="32" data-rateit-value="{{providerRatingPoints}}"></span>
                                    </div>
                                </a>
                            {{/with}}
                        </div>
                    </div>
                    <!-- <hr>
                    <div class="row">
                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                            <a href="{{pathFor 'jobs'}}">Open Jobs: {{getPublishedCount 'jobs'}}</a><br>
                            <a href="{{pathFor 'recommendedJobs'}}">Recommended Jobs: {{recommendedJobsCount}}</a><br>
                            <a href="{{pathFor 'invitedJobs'}}">Invited Jobs: {{invitedJobsCount}}</a><br>
                            <a href="{{pathFor 'providerAssignedJobs'}}">Jobs in progress: {{providerAssignedJobsCount}}</a>
                        </div>
                        <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
                            {{#with providerProfile}}<a href="{{pathFor 'providerNotifications'}}">New Notifications: {{newNotificationsCount}}</a>{{/with}}<br>
                            <a href="{{pathFor 'mailBox' tab="mails"}}">New Messages: {{newMessagesCount}}</a>
                        </div>
                    </div> -->
                    <hr>
                    <div class="row">
                        <div class="col-xs-12">
                            <h4>Scheduled Dates of Assigned Jobs</h4>
                            {{>providerCalendar}}
                        </div>
                    </div>
                {{else}}
                    {{#if isInRole 'corporate-admin'}}
                        <div class="row tile_count">
                            <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                                <span class="count_top"><i class="fa fa-user"></i> Jobs Posted</span>
                                <div class="count">0</div>
                            </div>
                            <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                                <span class="count_top"><i class="fa fa-user"></i> Jobs Complted</span>
                                <div class="count">0</div>
                            </div>
                            <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                                <span class="count_top"><i class="fa fa-user"></i> Amount Spent</span>
                                <div class="count">$ 0</div>
                            </div>
                            <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                                <span class="count_top"><i class="fa fa-clock-o"></i> Amount Earned</span>
                                <div class="count">$ 0</div>
                            </div>
                            <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                                <span class="count_top"><i class="fa fa-user"></i> Account Balance</span>
                                <div class="count">$ {{accountBalance}}</div>
                            </div>
                        </div>
                    {{else}}
                        {{#if isInRole 'admin'}}
                            <div class="row tile_count">
                                <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                                    <span class="count_top"><i class="fa fa-user"></i> No. of Users</span>
                                    <div class="count green">{{getPublishedCount 'userCount'}}</div>
                                </div>
                                <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                                    <span class="count_top"><i class="fa fa-user"></i> No. of Buyers</span>
                                    <div class="count green">{{buyersCount}}</div>
                                </div>
                                <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                                    <span class="count_top"><i class="fa fa-user"></i> No. of Providers</span>
                                    <div class="count green">{{providersCount}}</div>
                                </div>
                                <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                                    <span class="count_top"><i class="fa fa-user"></i> Jobs Posted</span>
                                    <div class="count">{{getPublishedCount 'adminJobs'}}</div>
                                </div>
                                <div class="col-md-2 col-sm-4 col-xs-6 tile_stats_count">
                                    <span class="count_top"><i class="fa fa-clock-o"></i> Jobs Completed</span>
                                    <div class="count">{{getPublishedCount 'allCompletedJobs'}}</div>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div id="adminChart">{{createChart}}</div>
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-6">
                                    <div id="sampleChart">{{sampleChart}}</div>
                                </div>
                            </div>
                        {{/if}}
                    {{/if}}
                {{/if}}
            {{/if}}
        </div>
        <!-- <div class="col-sm-12">
            {{>myGoogleMap}}
        </div> -->
    </div>
</template>

<template name="myGoogleMap">
    <div class="map-container">
        <input type="text" id="place1" class="form-control">
        <div id="myMap"></div>
    </div>
</template>

<template name="providerCalendar">
    <div id="provider-jobs-calendar"></div>
</template>
<template name="buyerCalendar">
    <div id="buyer-jobs-calendar"></div>
</template>