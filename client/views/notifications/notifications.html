<template name="notifications">
	<div class="notifications-wrapper">
		{{#if isInRole 'buyer, dispatcher'}}
			{{#each buyerNotifications}}
				{{#if $eq this.notificationType 'newJobApplication'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}" href>
							<div class="media">
								<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<p>
										<a href="/jobs/{{this.jobId}}"><small><i>ID: {{this.jobReadableId}}</i></small> <br> {{jobName}}</a><br>
										<a href="/profiles/{{this.providerId}}" class="item-info">{{this.pname}}</a> has applied for your job. <br>
										<small><i>{{this.notificationTime}}</i></small>
									</p>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
				{{#if $eq this.notificationType 'confirmAssignment'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<p>
										<a href="/jobs/{{this.jobId}}"><small><i>ID: {{this.jobReadableId}}</i></small> <br> {{jobName}}</a><br>
										<a href="/profiles/{{this.providerId}}" class="item-info">{{this.pname}}</a> has confirmed assignment. The job is now assigned. <br>
										<small><i>{{this.notificationTime}}</i></small>
									</p>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
				{{#if $eq this.notificationType 'declineAssignment'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<p>
										<a href="/jobs/{{this.jobId}}"><small><i>ID: {{this.jobReadableId}}</i></small> <br> {{jobName}}</a><br>
										<a href="/profiles/{{this.providerId}}" class="item-info">{{this.pname}}</a> has declined assignment. Your job status is now open again. You can choose a different provider from posted applications. <br>
										<small><i>{{this.notificationTime}}</i></small>
									</p>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
				{{#if $eq this.notificationType 'submitAssignment'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<p>
										<a href="/jobs/{{this.jobId}}"><small><i>ID: {{this.jobReadableId}}</i></small> <br> {{jobName}}</a><br>
										<a href="/profiles/{{this.providerId}}" class="item-info">{{this.pname}}</a> has submitted assigned job for approval. <br>
										<small><i>{{this.notificationTime}}</i></small>
									</p>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
				{{#if $eq this.notificationType 'addFavBuyer'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/profiles/{{this.providerId}}">{{this.pname}}</a> has added you to his/her favorites. <br>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
				{{#if $eq this.notificationType 'remFavBuyer'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/profiles/{{this.providerId}}">{{this.pname}}</a> has removed you from his/her favorites. <br>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
			{{/each}}
		{{/if}}
		{{#if currentUser.isDeveloper}}
			{{#each providerNotifications}}
				{{#if $eq this.notificationType 'applicationAccepted'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<p>
										<a href="/jobs/{{this.jobId}}"><small><i>ID: {{this.jobReadableId}}</i></small> <br> {{jobName}}</a><br>
										<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has accepted your application. You may confirm/decline the job. <br>
										<small><i>{{this.notificationTime}}</i></small>
									</p>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
				{{#if $eq this.notificationType 'jobInvitation'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<p>
										<a href="/jobs/{{this.jobId}}"><small><i>ID: {{this.jobReadableId}}</i></small> <br> {{jobName}}</a><br>
										<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has invited you to apply for a job. <br>
										<small><i>{{this.notificationTime}}</i></small>
									</p>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
				{{#if $eq this.notificationType 'routedJob'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<p>
										<a href="/jobs/{{this.jobId}}"><small><i>ID: {{this.jobReadableId}}</i></small> <br> {{jobName}}</a><br>
										<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has directly routed to you a job. You may confirm/decline the job. <br>
										<small><i>{{this.notificationTime}}</i></small>
									</p>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
				{{#if $eq this.notificationType 'approveAssignment'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<p>
										<a href="/jobs/{{this.jobId}}"><small><i>ID: {{this.jobReadableId}}</i></small> <br> {{jobName}}</a><br>
										<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has approved the job submitted by you.<br>
										<small><i>{{this.notificationTime}}</i></small>
									</p>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
				{{#if $eq this.notificationType 'rejectAssignment'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<p>
										<a href="/jobs/{{this.jobId}}"><small><i>ID: {{this.jobReadableId}}</i></small> <br> {{jobName}}</a><br>
										<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has rejected the job submitted by you. Please contact {{this.bname}} for further information. You may then resubmit the job.<br>
										<small><i>{{this.notificationTime}}</i></small>
									</p>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
				{{#if $eq this.notificationType 'addFavProvider'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has added you as a favorite. <br>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
				{{#if $eq this.notificationType 'remFavProvider'}}
					{{#with this}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
							<div class="media">
								<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has removed you as a favorite. <br>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/with}}
				{{/if}}
			{{/each}}
		{{/if}}
		{{#if currentUser}}
			{{#if isInRole 'admin'}}
				{{#each adminNotifications}}
					{{#if $eq this.notificationType 'userSignUp'}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}" href>
							<div class="media">
								<div class="media-body">
									<p>A new user has signed up for the portal.</p>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/if}}
					{{#if $eq this.notificationType 'newJob'}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}" href>
							<div class="media">
								<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.bname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has posted a new job.
									<p><a href="/jobs/{{this.jobId}}">{{jobName}}</a></p>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/if}}
					{{#if $eq this.notificationType 'newJobApplication'}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}" href>
							<div class="media">
								<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/profiles/{{this.providerId}}" class="item-info">{{this.pname}}</a> has applied for a job posted by <a href="/buyers/{{this.buyerId}}">{{this.bname}}</a>.
									<p><a href="/jobs/{{this.jobId}}">{{jobName}}</a></p>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/if}}
					{{#if $eq this.notificationType 'confirmAssignment'}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}" href>
							<div class="media">
								<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/profiles/{{this.providerId}}" class="item-info">{{this.pname}}</a> has confirmed assignment for a job posted by <a href="/buyers/{{this.buyerId}}">{{this.bname}}</a>.
									<p><a href="/jobs/{{this.jobId}}">{{jobName}}</a></p>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/if}}
					{{#if $eq this.notificationType 'declineAssignment'}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}" href>
							<div class="media">
								<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/profiles/{{this.providerId}}" class="item-info">{{this.pname}}</a> has declined assignment for a job posted by <a href="/buyers/{{this.buyerId}}">{{this.bname}}</a>.
									<p><a href="/jobs/{{this.jobId}}">{{jobName}}</a></p>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/if}}
					{{#if $eq this.notificationType 'submitAssignment'}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}" href>
							<div class="media">
								<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/profiles/{{this.providerId}}" class="item-info">{{this.pname}}</a> has submitted assignment for a job posted by <a href="/buyers/{{this.buyerId}}">{{this.bname}}</a>.
									<p><a href="/jobs/{{this.jobId}}">{{jobName}}</a></p>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/if}}
					{{#if $eq this.notificationType 'applicationAccepted'}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}" href>
							<div class="media">
								<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.bname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has accepted application for <a href="/profies/{{this.providerId}}">{{this.pname}}</a>.
									<p><a href="/jobs/{{this.jobId}}">{{jobName}}</a></p>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/if}}
					{{#if $eq this.notificationType 'approveAssignment'}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}" href>
							<div class="media">
								<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.bname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has approved assignment submitted by <a href="/profies/{{this.providerId}}">{{this.pname}}</a>.
									<p><a href="/jobs/{{this.jobId}}">{{jobName}}</a></p>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/if}}
					{{#if $eq this.notificationType 'rejectAssignment'}}
						<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}" href>
							<div class="media">
								<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.bname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
								<div class="media-body">
									<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has rejected assignment submitted by <a href="/profies/{{this.providerId}}">{{this.pname}}</a>.
									<p><a href="/jobs/{{this.jobId}}">{{jobName}}</a></p>
									<small><i>{{this.notificationTime}}</i></small>
								</div>
							</div>
						</div>
					{{/if}}
					{{#if $eq this.notificationType 'addFavBuyer'}}
						{{#with this}}
							<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
								<div class="media">
									<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
									<div class="media-body">
										<a href="/profiles/{{this.providerId}}">{{this.pname}}</a> has added <a href="/buyers/{{this.buyerId}}">{{this.bname}}</a> to his/her favorites. <br>
										<small><i>{{this.notificationTime}}</i></small>
									</div>
								</div>
							</div>
						{{/with}}
					{{/if}}
					{{#if $eq this.notificationType 'remFavBuyer'}}
						{{#with this}}
							<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
								<div class="media">
									<div class="media-left"><a href="/profiles/{{this.providerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
									<div class="media-body">
										<a href="/profiles/{{this.providerId}}">{{this.pname}}</a> has removed <a href="/buyers/{{this.buyerId}}">{{this.bname}}</a> from his/her favorites. <br>
										<small><i>{{this.notificationTime}}</i></small>
									</div>
								</div>
							</div>
						{{/with}}
					{{/if}}
					{{#if $eq this.notificationType 'addFavProvider'}}
						{{#with this}}
							<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
								<div class="media">
									<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
									<div class="media-body">
										<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has added <a href="/profiles/{{this.providerId}}">{{this.pname}}</a> to his/her favorites. <br>
										<small><i>{{this.notificationTime}}</i></small>
									</div>
								</div>
							</div>
						{{/with}}
					{{/if}}
					{{#if $eq this.notificationType 'remFavProvider'}}
						{{#with this}}
							<div class="notification-item markRead {{#if $eq this.read false}} isNotRead {{else}} isRead {{/if}}">
								<div class="media">
									<div class="media-left"><a href="/buyers/{{this.buyerId}}"><img src="{{this.imgUrl}}" alt="{{this.pname}}" class="media-object avatar-image img-circle" width='48px'></a></div>
									<div class="media-body">
										<a href="/buyers/{{this.buyerId}}" class="item-info">{{this.bname}}</a> has removed <a href="/profiles/{{this.providerId}}">{{this.pname}}</a> from his/her favorites. <br>
										<small><i>{{this.notificationTime}}</i></small>
									</div>
								</div>
							</div>
						{{/with}}
					{{/if}}
				{{/each}}
			{{/if}}
		{{/if}}
		{{#if currentUser}}
			{{#if isInRole 'provider'}}
				{{#if welcomeNotification}}
					<a href="{{#unless currentUser.isDeveloper}}{{pathFor 'profileNew'}}{{/unless}}" class="markRead">
						<div class="notification-item markRead {{#if this.read}} isRead {{else}} isNotRead {{/if}}">
							<h4 class="item-title">Welcome to UTL.{{#unless currentUser.isDeveloper}} Click here to create your profile.{{/unless}}</h4>
							<small><i>{{this.notificationTime}}</i></small>
						</div>
					</a>
				{{/if}}
			{{/if}}
			{{#if isInRole 'buyer, dispatcher'}}
				{{#if welcomeNotification}}
					<a href="{{#unless currentUser.isBuyer}}{{pathFor 'buyerNew'}}{{/unless}}" class="markRead">
						<div class="notification-item markRead {{#if this.read}} isRead {{else}} isNotRead {{/if}}">
							<h4 class="item-title">Welcome to UTL. {{#unless currentUser.isBuyer}} Click here to create your profile.{{/unless}}</h4>
							<small><i>{{this.notificationTime}}</i></small>
						</div>
					</a>
				{{/if}}
			{{/if}}
		{{/if}}
	</div>
</template>